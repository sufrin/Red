<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>BUILDME</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="building-applered">Building AppleRed</h1>
<h2 id="building-applered.jar-infrom-the-jed-folder">Building AppleRed.jar in/from the Jed folder</h2>
<p>The command</p>
<pre><code>    make</code></pre>
<p>compiles the entire source into Red.jar, then makes from it an <code>AppleRed.jar</code> that can be run from the java top-level anywhere, on any operating system, because it has embedded in it all the libraries it requires.</p>
<p>You will need to have jars corresponding to the libraries <code>regexkit</code>, <code>scala-swing</code> and a recent <code>scala-library</code> present: this can be achieved by making symbolic links to them.</p>
<h2 id="distribution-and-installation">Distribution and Installation</h2>
<p>When you are happy with the program, you can take steps to package it for distribution or installation for your own purposes. There are detailed instructions for doing so in the folder <code>RedApp</code> (see <code>RedApp/README.md</code> or <code>RedApp/README.pdf</code>). The OS/X distribution instructions probably need following to the letter if you want to build something that behaves like an OS/X app; but the Linux ones can be obeyed less strictly.</p>
<h2 id="working-on-new-features">Working on new features</h2>
<p>The files <code>Makefile</code>, and <code>Makefile-Scala</code> specify various other make targets, some of which will be of use while working on new features with <code>IntelliJ</code>.</p>
<pre><code>    ./ired [args]</code></pre>
<p>runs the editor using the compilation classpath and the current <code>IntelliJ</code>-compiled class files.</p>
<p>If you don’t use <code>IntelliJ</code> in your development it’s not a problem, because:</p>
<pre><code>    ./sred [args]</code></pre>
<p>runs the editor using the compilation classpath and <code>Red.jar</code></p>
<p>You can test a new variant you have compiled with either of the above two commands.</p>
<p>You specify the logging of classes/modules by providing additional arguments of the form</p>
<pre><code>    -l&lt;package&gt;.&lt;class&gt;</code></pre>
<p>which logs at or below the most detailed level; or</p>
<pre><code>    -l&lt;package&gt;.&lt;class&gt;=&lt;level&gt;</code></pre>
<p>which logs at or below the specified level.</p>
<p>For example:</p>
<pre><code>    ./ired -lRed.EditSession=FINER exampletexts/L03.tex</code></pre>
<p>generates this log as the first few mouse clicks are made</p>
<pre><code>  INFO@Logging.Default     :
**********
AppleRed starting at 2022-09-05-182803
**********
  INFO@Logging.Default  : Red.EditSession=FINER
 FINER@Red.EditSession  : theSession.setMark(254)
 FINER@Red.EditSession  : selectUntil 254 -&gt; 254
 FINER@Red.EditSession  : setCursorAndMark(12, 35) with selection=Span(254,254,false)
 FINER@Red.EditSession  : theSession.setMark(240)
 FINER@Red.EditSession  : selectUntil 240 -&gt; 240
 FINER@Red.EditSession  : setCursorAndMark(12, 21) with selection=Span(240,240,false)
 FINER@Red.EditSession  : theSession.setMark(246)
 FINER@Red.EditSession  : selectUntil 235 -&gt; 246</code></pre>
</body>
</html>
